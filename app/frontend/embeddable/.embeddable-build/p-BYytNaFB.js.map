{"version":3,"file":"p-BYytNaFB.js","sources":["../embeddable-prepared-build/index-VjD1R8dk-Bk7SI1mi.js"],"sourcesContent":["import { j as e } from \"./jsx-runtime-CjQXaSqQ-DzL_EJ9W.js\";\nimport { r as D } from \"./embeddable-entry-point-BqGPapEq.js\";\nimport { c as u } from \"./format-TjzP8gQX-oHZX7qOo.js\";\nimport { D as I, W as B } from \"./Container-mop-J7T8-DuRWKQE8.js\";\nimport { u as E } from \"./index.esm-B-VEeZou.js\";\nconst A = (s) => {\n  var x, v, h, f, g, j, $, b;\n  const {\n    results: l,\n    prevResults: d,\n    prevTimeFilter: r,\n    metric: t,\n    displayMetric: F,\n    dimension: a,\n    dps: o,\n    prefix: C,\n    suffix: T,\n    showPrevPeriodLabel: L\n  } = s, n = E(), { n: W, percentage: i } = D.useMemo(() => {\n    var w, y, S, k, z;\n    if (a || !(t != null && t.name) || !((w = l == null ? void 0 : l.data) != null && w.length))\n      return { percentage: null, n: null };\n    const M = parseFloat(((S = (y = l == null ? void 0 : l.data) == null ? void 0 : y[0]) == null ? void 0 : S[t.name]) || 0), p = parseFloat(((z = (k = d == null ? void 0 : d.data) == null ? void 0 : k[0]) == null ? void 0 : z[t.name]) || 0);\n    return {\n      percentage: p || p === 0 ? Math.round(M / p * 100) - 100 : null,\n      n: u(M.toString(), {\n        type: \"number\",\n        meta: t == null ? void 0 : t.meta,\n        dps: o\n      })\n    };\n  }, [l, d, t, o, a]), m = s.fontSize || n.charts.kpi.font.size, N = Math.max(m / 3, parseInt(n.font.size.replace(\"px\", \"\"), 10)), c = n.font.colorNormal, P = n.charts.kpi.font.negativeColor;\n  return l != null && l.error ? /* @__PURE__ */ e.jsxs(\"div\", { className: \"h-full flex items-center justify-center font-embeddable text-sm\", children: [\n    /* @__PURE__ */ e.jsx(I, {}),\n    /* @__PURE__ */ e.jsx(\"div\", { className: \"whitespace-pre-wrap p-4 max-w-sm text-xs\", children: l == null ? void 0 : l.error })\n  ] }) : /* @__PURE__ */ e.jsx(B, { ...s, className: \"overflow-y-hidden\", children: /* @__PURE__ */ e.jsx(\n    \"div\",\n    {\n      className: `\n          flex\n          flex-col\n          font-embeddable\n          h-full\n          items-${((x = n.charts.kpi) == null ? void 0 : x.alignment) || \"center\"}\n          justify-center\n          leading-tight\n          relative\n          text-${((v = n.charts.kpi) == null ? void 0 : v.alignment) || \"center\"}\n          font-[--embeddable-charts-fontWeights-kpiNumber]\n        `,\n      children: a ? /* @__PURE__ */ e.jsxs(e.Fragment, { children: [\n        /* @__PURE__ */ e.jsx(\n          \"div\",\n          {\n            className: \"text-[color:--embeddable-font-colorNormal]\",\n            style: { fontSize: `${m}px` },\n            children: /* @__PURE__ */ e.jsx(\"p\", { children: (f = (h = l == null ? void 0 : l.data) == null ? void 0 : h[0]) == null ? void 0 : f[a.name] })\n          }\n        ),\n        F && t && /* @__PURE__ */ e.jsx(\n          \"p\",\n          {\n            className: \"font-normal\",\n            style: {\n              fontSize: `${N}px`,\n              color: c\n            },\n            children: `${t.title}: ${u(`${(j = (g = l == null ? void 0 : l.data) == null ? void 0 : g[0]) == null ? void 0 : j[t.name]}`, {\n              type: \"number\",\n              dps: o,\n              meta: t == null ? void 0 : t.meta\n            })}\n                `\n          }\n        )\n      ] }) : /* @__PURE__ */ e.jsxs(e.Fragment, { children: [\n        /* @__PURE__ */ e.jsx(\n          \"div\",\n          {\n            className: \"text-[color:--embeddable-font-colorNormal]\",\n            style: { fontSize: `${m}px` },\n            children: /* @__PURE__ */ e.jsx(\"p\", { children: `${C || \"\"}${W || 0}${T || \"\"}` })\n          }\n        ),\n        (r == null ? void 0 : r.to) && /* @__PURE__ */ e.jsxs(\n          \"div\",\n          {\n            className: `\n                  flex\n                  flex-wrap\n                  font-normal\n                  items-${(($ = n.charts.kpi) == null ? void 0 : $.alignment) || \"center\"}\n                  justify-center\n                  text-${((b = n.charts.kpi) == null ? void 0 : b.alignment) || \"center\"}\n                `,\n            style: {\n              color: i && i < 0 ? P : c,\n              fontSize: `${N}px`\n            },\n            children: [\n              /* @__PURE__ */ e.jsx(\n                H,\n                {\n                  className: `${i && i < 0 ? \"rotate-180\" : \"\"} h-[20px] w-[9px] min-w-[9px] mr-1.5`\n                }\n              ),\n              /* @__PURE__ */ e.jsx(\"span\", { children: i === 1 / 0 ? \"∞\" : `${u(`${Math.abs(i || 0)}`, { type: \"number\", dps: o })}%` }),\n              L && (r == null ? void 0 : r.relativeTimeString) && r.relativeTimeString.length > 0 && /* @__PURE__ */ e.jsxs(\"span\", { style: { color: c }, children: [\n                \" \",\n                `vs ${r.relativeTimeString}`\n              ] })\n            ]\n          }\n        )\n      ] })\n    }\n  ) });\n}, H = ({ className: s }) => /* @__PURE__ */ e.jsx(\n  \"svg\",\n  {\n    className: s || \"\",\n    width: \"16\",\n    height: \"14\",\n    viewBox: \"0 0 16 14\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    children: /* @__PURE__ */ e.jsx(\n      \"path\",\n      {\n        d: \"M7.14028 0.753268C7.5422 0.0998221 8.4578 0.099822 8.85972 0.753268L15.8366 12.0964C16.2727 12.8054 15.7846 13.7369 14.9769 13.7369H1.02308C0.215416 13.7369 -0.272737 12.8054 0.163359 12.0964L7.14028 0.753268Z\",\n        fill: \"currentcolor\"\n      }\n    )\n  }\n);\nexport {\n  A as J\n};\n//# sourceMappingURL=index-VjD1R8dk-Bk7SI1mi.js.map\n"],"names":["E","D","u","e","I","B"],"mappings":"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"}