{"version":3,"file":"p-I918jxC_.js","sources":["../embeddable-prepared-build/MultiSelector-B-FnhZ4g-Ci5Atlad.js"],"sourcesContent":["import { j as t } from \"./jsx-runtime-CjQXaSqQ-DzL_EJ9W.js\";\nimport { r as s } from \"./embeddable-entry-point-BqGPapEq.js\";\nimport { _ as w } from \"./Spinner-BeNoTciJ-DTqskXEu.js\";\nimport { h as k, o as N } from \"./CheckboxEmpty-DejAentL-D99cVI65.js\";\nimport { W as y, X as D, V as C } from \"./Container-mop-J7T8-DuRWKQE8.js\";\nimport { l as E } from \"./Selector.utils-cEIYEuKn-DQmlVAd3.js\";\nconst B = (a) => {\n  const m = s.useRef(null), [f, n] = s.useState(!1), [x, r] = s.useState(!1), [i, h] = s.useState(\"\"), [b, u] = s.useState(!1), [o, v] = s.useState(a.defaultValue);\n  s.useEffect(() => {\n    v(a.defaultValue);\n  }, [a.defaultValue]), s.useEffect(() => {\n    let e = null;\n    return x ? e && clearTimeout(e) : e = setTimeout(() => {\n      n(!1);\n    }, 200), () => {\n      e && clearTimeout(e);\n    };\n  }, [x]), s.useLayoutEffect(() => {\n    if (!b) return;\n    const e = setTimeout(() => {\n      n(!1), u(!1);\n    }, 500);\n    return () => clearTimeout(e);\n  }, [b]);\n  const d = s.useCallback(\n    (e) => {\n      h(e);\n    },\n    [h]\n  ), c = s.useCallback(\n    (e) => {\n      d(\"\");\n      let l = [];\n      e !== \"\" && (l = o || [], l != null && l.includes(e) ? l = l.filter((g) => g !== e) : l = [...l, e]), a.onChange(l), v(l);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [d, a, o]\n  ), j = (e, l, g) => {\n    (e.key === \"Enter\" || e.key === \" \") && (e.preventDefault(), l(e)), e.key === \"Escape\" && (e.preventDefault(), n(!1), u(!0));\n  }, p = s.useMemo(() => a.options.filter((e) => E(i, e)).map((e) => /* @__PURE__ */ t.jsxs(\n    \"div\",\n    {\n      role: \"button\",\n      onClick: () => {\n        u(!1), c(e.value);\n      },\n      onKeyDown: (l) => j(l, c(e.value)),\n      onFocus: () => {\n        r(!0), n(!0);\n      },\n      onBlur: () => {\n        r(!1);\n      },\n      className: `flex items-left items-center min-h-[36px] px-3 py-2 hover:bg-black/5 cursor-pointer font-normal ${o != null && o.includes(e.value) ? \"bg-black/5\" : \"\"} truncate`,\n      tabIndex: 0,\n      children: [\n        o != null && o.includes(e.value) ? /* @__PURE__ */ t.jsx(k, {}) : /* @__PURE__ */ t.jsx(N, {}),\n        /* @__PURE__ */ t.jsx(\"span\", { className: \"font-normal pl-1 truncate\", title: e.label, children: e.label })\n      ]\n    },\n    e.value\n  )), [a, o, c, i]);\n  return /* @__PURE__ */ t.jsx(y, { title: a.title, children: /* @__PURE__ */ t.jsxs(\n    \"div\",\n    {\n      className: w(\n        \"relative rounded-xl w-full min-w-[50px] h-10 border border-[#DADCE1] flex items-center\",\n        a.className\n      ),\n      children: [\n        /* @__PURE__ */ t.jsx(\n          \"input\",\n          {\n            ref: m,\n            value: i,\n            name: \"dropdown\",\n            placeholder: a.placeholder,\n            onClick: () => {\n              n(!0), u(!1);\n            },\n            onFocus: () => {\n              n(!0), u(!1), r(!0);\n            },\n            onBlur: () => {\n              r(!1);\n            },\n            onChange: (e) => d(e.target.value),\n            className: `outline-none bg-transparent leading-9 h-9 border-0 px-3 w-full cursor-pointer text-sm ${f || !o ? \"\" : \"opacity-0\"}`\n          }\n        ),\n        !!o && /* @__PURE__ */ t.jsxs(\n          \"span\",\n          {\n            className: `absolute w-[calc(100%-2rem)] whitespace-nowrap overflow-hidden truncate rounded-xl left-3 top-1 h-8 leading-8 block pointer-events-none text-sm ${f ? \"hidden\" : \"\"}`,\n            children: [\n              \"Selected \",\n              o.length,\n              \" \",\n              o.length === 1 ? \"option\" : \"options\"\n            ]\n          }\n        ),\n        f && /* @__PURE__ */ t.jsxs(\n          \"div\",\n          {\n            style: { minWidth: a.minDropdownWidth },\n            className: \"flex flex-col bg-white rounded-xl absolute top-11 z-50 border border-[#DADCE1] w-full overflow-y-auto overflow-x-hidden max-h-[400px]\",\n            onMouseDown: (e) => {\n              var l;\n              e.preventDefault(), (l = m.current) == null || l.focus(), u(!1);\n            },\n            onFocus: () => {\n              r(!0);\n            },\n            onBlur: () => {\n              r(!1);\n            },\n            tabIndex: 0,\n            children: [\n              p,\n              (p == null ? void 0 : p.length) === 0 && !!i && /* @__PURE__ */ t.jsx(\"div\", { className: \"px-3 py-2 text-black/50 italic cursor-pointer\", children: \"No results\" })\n            ]\n          }\n        ),\n        /* @__PURE__ */ t.jsx(D, { className: \"absolute right-2.5 top-2.5 z-1 pointer-events-none\" }),\n        !a.unclearable && !!o && /* @__PURE__ */ t.jsx(\n          \"div\",\n          {\n            onClick: () => {\n              c(\"\");\n            },\n            className: \"absolute right-10 top-0 h-10 flex items-center z-10 cursor-pointer\",\n            children: /* @__PURE__ */ t.jsx(C, {})\n          }\n        )\n      ]\n    }\n  ) });\n};\nexport {\n  B as R\n};\n//# sourceMappingURL=MultiSelector-B-FnhZ4g-Ci5Atlad.js.map\n"],"names":["s","n","r","h","E","t","k","N","y","w","D","C"],"mappings":"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"}