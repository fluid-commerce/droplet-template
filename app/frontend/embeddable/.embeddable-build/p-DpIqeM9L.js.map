{"version":3,"file":"p-DpIqeM9L.js","sources":["../embeddable-prepared-build/Selector-CCh6GRlF-dt9-j3va.js"],"sourcesContent":["import { j as a } from \"./jsx-runtime-CjQXaSqQ-DzL_EJ9W.js\";\nimport { r as t } from \"./embeddable-entry-point-BqGPapEq.js\";\nimport { _ as k } from \"./Spinner-BeNoTciJ-DTqskXEu.js\";\nimport { W as y, X as D, V as N } from \"./Container-mop-J7T8-DuRWKQE8.js\";\nimport { l as C } from \"./Selector.utils-cEIYEuKn-DQmlVAd3.js\";\nconst z = (l) => {\n  var x;\n  const h = t.useRef(null), [f, o] = t.useState(!1), [v, u] = t.useState(!1), [i, b] = t.useState(\"\"), [w, r] = t.useState(!1), [n, d] = t.useState(l.defaultValue), g = (x = l.options.find(\n    (e) => e.value === n\n  )) == null ? void 0 : x.label;\n  t.useEffect(() => {\n    d(l.defaultValue);\n  }, [l.defaultValue]), t.useEffect(() => {\n    let e = null;\n    return v ? e && clearTimeout(e) : e = setTimeout(() => {\n      o(!1);\n    }, 200), () => {\n      e && clearTimeout(e);\n    };\n  }, [v]), t.useLayoutEffect(() => {\n    if (!w) return;\n    const e = setTimeout(() => {\n      o(!1), r(!1);\n    }, 500);\n    return () => clearTimeout(e);\n  }, [w]);\n  const p = t.useCallback(\n    (e) => {\n      b(e);\n    },\n    [b]\n  ), c = t.useCallback(\n    (e) => {\n      p(\"\"), d(e), l.onChange(e);\n    },\n    [d, l, p]\n  ), j = (e, s, E) => {\n    (e.key === \"Enter\" || e.key === \" \") && (e.preventDefault(), s(e), o(!1), r(!0)), e.key === \"Escape\" && (e.preventDefault(), o(!1), r(!0));\n  }, m = t.useMemo(() => l.options.filter((e) => C(i, e)).map((e) => /* @__PURE__ */ a.jsx(\n    \"div\",\n    {\n      role: \"button\",\n      onClick: () => {\n        o(!1), r(!0), c(e.value);\n      },\n      onKeyDown: (s) => {\n        j(\n          s,\n          () => {\n            c(e.value);\n          }\n        );\n      },\n      className: `flex items-center min-h-[36px] px-3 py-2 hover:bg-black/5 cursor-pointer font-normal ${n === e.value ? \"bg-black/5\" : \"\"} whitespace-nowrap overflow-hidden text-ellipsis`,\n      tabIndex: 0,\n      children: e.label\n    },\n    e.value\n  )), [l.options, n, c, i]);\n  return /* @__PURE__ */ a.jsx(y, { title: l.title, children: /* @__PURE__ */ a.jsxs(\n    \"div\",\n    {\n      className: k(\n        \"relative rounded-xl w-full min-w-[50px] h-10 border border-[#DADCE1] flex items-center\",\n        l.className\n      ),\n      children: [\n        /* @__PURE__ */ a.jsx(\n          \"input\",\n          {\n            ref: h,\n            value: i,\n            name: \"dropdown\",\n            placeholder: l.placeholder,\n            onClick: () => {\n              o(!0), r(!1);\n            },\n            onFocus: () => {\n              o(!0), r(!1), u(!0);\n            },\n            onBlur: () => {\n              u(!1);\n            },\n            onChange: (e) => p(e.target.value),\n            className: `outline-none bg-transparent leading-9 h-9 border-0 px-3 w-full cursor-pointer text-sm ${f || !n ? \"\" : \"opacity-0\"}`\n          }\n        ),\n        g && /* @__PURE__ */ a.jsx(\n          \"span\",\n          {\n            className: `absolute w-[calc(100%-2.5rem)] whitespace-nowrap overflow-hidden truncate rounded-xl left-3 top-1 h-8 leading-8 block pointer-events-none text-sm ${f ? \"hidden\" : \"\"}`,\n            children: g\n          }\n        ),\n        f && /* @__PURE__ */ a.jsxs(\n          \"div\",\n          {\n            style: { minWidth: l.minDropdownWidth },\n            className: \"flex flex-col bg-white rounded-xl absolute top-11 z-50 border border-[#DADCE1] w-full overflow-y-auto overflow-x-hidden max-h-[400px]\",\n            onMouseDown: (e) => {\n              var s;\n              e.preventDefault(), (s = h.current) == null || s.focus(), r(!1);\n            },\n            onFocus: () => {\n              u(!0);\n            },\n            onBlur: () => {\n              u(!1);\n            },\n            tabIndex: 0,\n            children: [\n              m,\n              (m == null ? void 0 : m.length) === 0 && !!i && /* @__PURE__ */ a.jsx(\"div\", { className: \"px-3 py-2 text-black/50 italic cursor-pointer\", children: \"No results\" })\n            ]\n          }\n        ),\n        /* @__PURE__ */ a.jsx(D, { className: \"absolute right-2 top-2.5 z-1 pointer-events-none\" }),\n        !l.unclearable && !!n && /* @__PURE__ */ a.jsx(\n          \"div\",\n          {\n            onClick: () => {\n              c(\"\");\n            },\n            className: \"absolute right-10 top-0 h-10 flex items-center z-10 cursor-pointer\",\n            children: /* @__PURE__ */ a.jsx(N, {})\n          }\n        )\n      ]\n    }\n  ) });\n};\nexport {\n  z as A\n};\n//# sourceMappingURL=Selector-CCh6GRlF-dt9-j3va.js.map\n"],"names":["t","n","C","a","y","k","D","N"],"mappings":"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"}